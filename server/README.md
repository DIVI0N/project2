# User
https://quiet-caverns-34955.herokuapp.com/
## Registration

Чтобы произвести регистрацию в приложении необходимо отправить **POST** запрос по роуту ***/auth/registration*** <br>
Тело запроса должно выглядеть следующим образом:
```
{
  login:'admin',
  password: 'admin123'
}
```
Все поля обязательны. Поле логин можно вводить только латинские символы и цифры <br>
В поле пароль можно вводить латинские символы, цифры и спецсимволы

## Login

Что бы залогиниться необходимо отправить **POST** запрос по роуту ***/auth/login*** <br>
Тело запроса должно выглядеть следующим образом:
```
{
  login:'admin',
  password: 'admin123'
}
```
В ответе должен прийти токен и id пользователя


## Setting

Для смены пароля либо логина пользователя необходимо отправить **POST** запрос по роуту ***/auth/setting*** <br>
Тело запроса должно выглядеть следующим образом:

```
{
  "field": "login", // какое поле меняется login || password
  "update": "admin" // значение на которое меняется
}
```

# Person

## Mongo
### GET
Для получения всех записей необходимо отправить **GET** запрос по роуту ***/database/mongodb***<br>
Для фильтра по полю необходимо отправить **GET** запрос по роуту ***/database/mongodb?sort={поле по какому необходимо отфильтровать}***<br>
Поля могут быть ***firstName, lastName, age, city, phone, email, company.*** Если запрос успешен вернется ответ со статусом 200 и персонами.<br>

В случае ошибки вернется ответ статус 403
```
{
  message: 'Что то пошло не так...'
}
```

### POST
Для отправки записи необходимо отправить **POST** запрос по роуту ***/database/mongodb***<br>
Тело запроса должно выглядеть следующим образом:
```
{ 
  "firstName": "Obi-Wan", 
  "lastName": "Kenobi", 
  "age": "57", 
  "city": "Stewjon", 
  "phone": "+1231231", 
  "email": "masterjedy@gmail.com",
  "company": "Jedi High Council" 
}
```
Если запрос успешен вернется ответ со статусом 200 и персонами. <br>

В случае ошибки вернется ответ статус 403
```
{
  message: 'Что то пошло не так...'
}
```

### DELETE
Для удаления данных необходимо отправить **DELETE** запрос по роуту ***/database/mongodb***<br>
и добавить query параметр id = 'id элемента который хотите удалить'<br>
Примерный вид запроса ***http://domen.com/database/mongodb?id=1*** , удалит объект с id=1.<br>
Для удаления всех персон в параметр id передать all <br>
Примерный вид запроса ***http://domen.com/database/mongodb?id=all*** 
Если запрос успешен вернется ответ со статусом 200 и персонами. <br>
В случае ошибки вернется ответ статус 403
```
{
  message: 'Что то пошло не так...'
}
```

### PUT
Для отправки записи необходимо отправить **PUT** запрос по роуту ***/database/mongodb***<br>
и добавить query параметр id = 'id элемента который хотите удалить'<br>
А так же в body поместить объект где ключ - поле которое необходимо поменять:
```
{
  "firstName": "Alex"
}
```
Примерный вид запроса ***http://domen.com/database/mongodb?id=1*** <br>
Если запрос успешен вернется ответ со статусом 200 и персонами. <br>
В случае ошибки вернется ответ статус 403
```
{
  message: 'Что то пошло не так...'
}
```